devtools::install_github("whkygl/easynem")
library(easynem)
?read_nem
easynem <- read_nem(tab = easynem_example("nemtab.csv"),
tax = easynem_example("nemtax.csv"),
meta = easynem_example("nemmeta.csv"))
easynem <- read_nem(tab = easynem_example("nemtab.csv"))
head(easynem)
head(easynem@tab)
easynem <- read_nem(tab = easynem_example("nemtax.csv"))
easynem <- read_nem(tax = easynem_example("nemtax.csv"))
head(easynem@tab)
head(easynem@tax)
easynem <- read_nem(meta = easynem_example("nemmeta.csv"))
head(easynem@meta)
easynem <- read_nem(tab = easynem_example("nemtab.csv"),
tax = easynem_example("nemtax.csv"))
head(easynem@tab)
head(easynem@tax)
easynem <- read_nem(tab = easynem_example("nemtab.csv"),
meta = easynem_example("nemmeta.csv"))
head(easynem@tab)
head(easynem@meta)
easynem <- read_nem(tax = easynem_example("nemtax.csv"),
meta = easynem_example("nemmeta.csv"))
head(easynem@tax)
head(easynem@meta)
library(easynem)
easynem <- read_nem(tab = easynem_example("nemtab1.csv"),
tax = easynem_example("nemtax1.csv"),
meta = easynem_example("nemmeta1.csv"))
head(easynem@tab)
head(easynem@tax)
head(easynem@meta)
bac <- read_nem(tab = easynem_example("bacotu.csv"),
tax = easynem_example("bactax.csv"),
meta = easynem_example("nemmeta1.csv"))
head(bac@tax)
head(bac@meta)
head(bac@tab)
devtools::install_github("whkygl/easynem")
detach("package:easynem", unload = TRUE)
devtools::install_github("whkygl/easynem")
library(easynem)
?read_nem2
?read_nem2
easynem <- read_nem2(tab = nemtab, tax = nemtax, meta = nemmeta)
easynem <- read_nem2(tab = nemtab)
head(easynem@tab)
easynem <- read_nem2(tax = nemtax)
head(easynem@tax)
easynem <- read_nem2(meta = nemmeta)
head(easynem@meta)
easynem <- read_nem2(tab = nemtab, tax = nemtax)
head(easynem@tab)
head(easynem@tax)
easynem <- read_nem2(tab = nemtab, meta = nemmeta)
head(easynem@tab)
head(easynem@meta)
easynem <- read_nem2(tax = nemtax, meta = nemmeta)
head(easynem@tax)
head(easynem@meta)
library(easynem)
easynem <- read_nem2(tab = nemtab, tax = nemtax, meta = nemmeta)
easynem
easynem <- read_nem2(tab = nemtab, tax = nemtax, meta = nemmeta)
nem_filter <- easynem |> filter_name(target = meta, Treatments == "C4")
nem_filter
View(easynem)
nem_filter <- easynem |> filter_name(target = tax, Family == "Rhabditidae")
nem_filter
nem_filter <- easynem |> filter_name(target = tax, Family == "Rhabditidae")
nem_filter
nem_filter <- easynem |> filter_name(target = meta, Treatments == "C4")
nem_filter
nem_filter <- easynem |> filter_name(target = tab, OTUID == "Mesorhabditis")
nem_filter
View(nem_filter)
View(nem_filter)
data = easynem
target = tax
target = "tax"
target = "tab"
library(easynem)
?filter_name
easynem <- read_nem2(tab = nemtab, tax = nemtax, meta = nemmeta)
nem_filter <- easynem |> filter_name(target = meta, Treatments == "C4")
nem_filter
data = easynem
tab = as.data.frame(data@tab)
tab
rownames(tab) = tab[,1]
tab = tab[,-1]
tab = t(tab)
tab
tab = as.data.frame(tab)
tab$SampleID = rownames(tab)
tab
tab = tab[,c(ncol(tab), 1:(ncol(tab)-1))]
tab
colnames(tab)[1] = "SampleID"
meta = data@meta
meta
colnames(meta)[1] = "SampleID"
any(names(tab[,-1]) %in% names(meta[,-1]))
names(tab[,-1]
)
names(tab[,-1]) %in% names(meta[,-1]))
names(tab[,-1]) %in% names(meta[,-1])
names(meta[,-1])
dif = dplyr::setdiff(names(meta), names(tab))
dif
meta = meta[,c("SampleID", dif)]
meta
tab
target = tab
result = data@tab
colname = colnames(result)[1]
target = "tab"
result = data@tab
colname = colnames(result)[1]
result = dplyr::filter(result,OTUID == "Mesorhabditis")
data@tab = tibble::as_tibble(result)
result2 = data@tax
colname2 = colnames(result2)[1]
result3 = data@meta
colname3 = colnames(result3)[1]
result2 = result2[result2[[colname2]] %in% result[[colname]], ]
data@tax = result2
result3 = result3[result3[[colname3]] %in% colnames(result[,-1]), ]
result3
data@meta = result3
tab = as.data.frame(data@tab)
rownames(tab) = tab[,1]
tab = tab[,-1]
tab = t(tab)
tab = as.data.frame(tab)
tab$SampleID = rownames(tab)
tab = tab[,c(ncol(tab), 1:(ncol(tab)-1))]
colnames(tab)[1] = "SampleID"
meta = data@meta
tab
meta
colnames(meta)[1] = "SampleID"
dif = dplyr::setdiff(names(meta), names(tab))
dif
names(tab)
names(meta)
names(tab[,-1]) %in% names(meta[,-1])
names(tab[,-1])
dif
names(tab)
names(meta)
meta
?sapply
?is.character
char_columns <- sapply(meta, is.character)
char_columns
meta = meta[,char_columns]
meta = merge(meta, tab, by = "SampleID")
meta
devtools::install_github("whkygl/easynem")
library(easynem)
?filter_name
easynem <- read_nem2(tab = nemtab, tax = nemtax, meta = nemmeta)
nem_filter <- easynem |> filter_name(target = meta, Treatments == "C4")
nem_filter
nem_filter <- easynem |> filter_name(target = tab, OTUID == "Mesorhabditis")
nem_filter
filter_name
nem_filter <- easynem |> filter_name(target = tab, OTUID == "Mesorhabditis")
nem_filter
library(easynem)
?filter_name
easynem <- read_nem2(tab = nemtab, tax = nemtax, meta = nemmeta)
nem_filter <- easynem |> filter_name(target = meta, Treatments == "C4")
nem_filter
nem_filter <- easynem |> filter_name(target = tab, OTUID == "Mesorhabditis")
nem_filter
data = easynem
result = data@tab
colname = colnames(result)[1]
result = dplyr::filter(result,OTUID == "Mesorhabditis")
data@tab = tibble::as_tibble(result)
result2 = data@tax
colname2 = colnames(result2)[1]
result3 = data@meta
colname3 = colnames(result3)[1]
result2 = result2[result2[[colname2]] %in% result[[colname]], ]
data@tax = result2
result3 = result3[result3[[colname3]] %in% colnames(result[,-1]), ]
data@meta = result3
result3
tab = as.data.frame(data@tab)
tab
rownames(tab) = tab[,1]
tab = tab[,-1]
tab = t(tab)
tab = as.data.frame(tab)
tab$SampleID = rownames(tab)
tab = tab[,c(ncol(tab), 1:(ncol(tab)-1))]
colnames(tab)[1] = "SampleID"
tab
meta = data@meta
colnames(meta)[1] = "SampleID"
meta
any(names(tab[,-1]) %in% names(meta[,-1]))
names(tab[,-1])
tab
tab[,-1]
names(tab)[-1]
any(names(tab)[-1] %in% names(meta)[-1])
char_columns <- sapply(meta, is.character)
meta = meta[,char_columns]
meta = merge(meta, tab, by = "SampleID")
meta
devtools::install_github("whkygl/easynem")
library(easynem)
?filter_name
library(easynem)
?filter_name
easynem <- read_nem2(tab = nemtab, tax = nemtax, meta = nemmeta)
nem_filter <- easynem |> filter_name(target = meta, Treatments == "C4")
nem_filter
nem_filter <- easynem |> filter_name(target = tab, OTUID == "Mesorhabditis")
nem_filter
nem_filter <- easynem |> filter_name(target = tax, Family == "Rhabditidae")
nem_filter
?read_nem
easynem <- read_nem(tab = easynem_example("nemtab.csv"),
tax = easynem_example("nemtax.csv"),
meta = easynem_example("nemmeta.csv"))
easynem <- read_nem(tab = easynem_example("nemtab1.csv"),
tax = easynem_example("nemtax1.csv"),
meta = easynem_example("nemmeta1.csv"))
easynem
nem_filter <- easynem |> filter_name(target = meta, season == "Summer")
nem_filter
nem_filter <- easynem |> filter_name(target = tab, OTUID == "ASV_5")
nem_filter
nem_filter <- easynem |> filter_name(target = tax, Genus == "Meloidogyne")
nem_filter
devtools::install_github("whkygl/easynem")
devtools::install_github("whkygl/easynem")
?filter_name
library(easynem)
?filter_name
library(easynem)
?filter_name
library(easynem)
?filter_num
easynem <- read_nem2(tab = nemtab, tax = nemtax, meta = nemmeta)
nem_filter <- nem |> filter_num(num = 0.95)
nem_filter <- easynem |> filter_num(num = 0.95)
show(nem_filter)
nem_filter <- nem |> filter_num(num = 1400)
nem_filter <- easynem |> filter_num(num = 1400)
show(nem_filter)
devtools::install_github("whkygl/easynem")
library(easynem)
?trans_formula
easynem <- read_nem2(tab = nemtab, tax = nemtax, meta = nemmeta)
log(21+1)
nem_trans <- easynem |> trans_formula(Mesorhabditis, ~log(x+1))
easynem
nem_trans
devtools::install_github("whkygl/easynem")
library(easynem)
?trans_formula
easynem <- read_nem2(tab = nemtab, tax = nemtax, meta = nemmeta)
nem_trans <- easynem |> trans_formula(Mesorhabditis, ~log(x+1))
nem_trans
devtools::install_github("whkygl/easynem")
devtools::install_github("whkygl/easynem")
library(easynem)
?trans_formula_v
easynem <- read_nem2(tab = nemtab, tax = nemtax, meta = nemmeta)
nem_trans <- easynem |> trans_formula_v(easynem@tab$OTUID, ~log(x+1))
nem_trans
devtools::install_github("whkygl/easynem")
?nem_database
library(easynem)
?nem_database
nem_database()
library(easynem)
?trans_name
nem <- read_nem2(tab = nemtab, tax = nemtax, meta = nemmeta)
nem_trans <- nem |> trans_name(Family)
show(nem_trans)
nem_trans <- nem |> trans_name(feeding)
show(nem_trans)
nem_trans@meta[,c(`1`, `2`, `3`)]
nem_trans@meta[,c("1", "2", "3")]
nem_trans@meta[,c("1", "2", "3", "5", "8")]
devtools::install_github("whkygl/easynem")
library(easynem)
?trans_norm
nem <- read_nem2(tab = nemtab, tax = nemtax, meta = nemmeta)
nem_trans <- nem |> trans_norm(method = percent)
show(nem_trans)
colSums(nem_trans@tab[,-1])
nem_trans <- nem |> trans_norm(method = total)
show(nem_trans)
colSums(nem_trans@tab[,-1])
devtools::install_github("whkygl/easynem")
library(easynem)
?trans_rare
nem <- read_nem2(tab = nemtab, tax = nemtax, meta = nemmeta)
nem_trans <- nem |> trans_rare()
colSums(nem_trans@tab[,-1])
nem_trans <- nem |> trans_rare(1500)
colSums(nem_trans@tab[,-1])
nem <- read_nem2(tab = nemtab, tax = nemtax, meta = nemmeta)
nem_trans <- nem |> trans_rare()
nem_trans
nem_trans <- nem |> trans_rare(1500)
nem_trans
